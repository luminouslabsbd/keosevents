{% extends "Global/layout.html.twig" %}
{% set pagetitle = 'CSV users list' | trans %}
{% block title %}{{pagetitle}}{% endblock %}

{% block content %}

    {% set navigation = [{ "dashboard_index": ('Dashboard' | trans), "current":(pagetitle) }] %}
    {% include "Global/navigation.html.twig" with navigation %}

    <section class="section-content padding-y bg-white">
        <div class="{{ services.getSetting("app_layout") }}">
            <div class="row">
                <aside class="col-lg-3 pt-3 pt-lg-0">
                    {% include "Dashboard/sidebar.html.twig" %}
                </aside>
                <div class="col-lg-9 mt-4 mt-lg-0">
                    <div class="card box">

                        <div class="card-body virtual_form">
                            {# invalid csv user data table start #}
                            <div class="virtual_table">
                                <div class="heading row bg-danger" style="border: 1px solid #ddd; padding: 10px 0;">
                                    <div class="col-lg-6">
                                        <h5 style="margin-top: 8px;">CSV invalid data (User list)</h5>
                                    </div>
                                </div>
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Surname</th>
                                            <th>Email</th>
                                            <th>Phone_number</th>
                                            <th>Department</th>
                                            <th>City</th>
                                            <th>Country</th>
                                            <th>Address</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                      {% if event_invalid_mails|length > 0 %}
                                        {% for invalid_mail in event_invalid_mails %}
                                            <tr>
                                                <td>{{ invalid_mail['name'] ?? '' }}</td>
                                                <td>{{ invalid_mail['surname'] ?? '' }}</td>
                                                <td>{{ invalid_mail['email'] ?? '' }}</td>
                                                <td>{{ invalid_mail['country_code'] ?? '' }}{{ invalid_mail['phone_number'] ?? '' }}</td>
                                                <td>{{ invalid_mail['department'] ?? '' }}</td>
                                                <td>{{ invalid_mail['city'] ?? '' }}</td>
                                                <td>{{ invalid_mail['country'] ?? '' }}</td>
                                                <td>{{ invalid_mail['address'] ?? '' }}</td>
                                            </tr> 
                                        {% endfor %}
                                      {% else %}
                                        <tr>
                                            <td colspan="50">
                                                <span class="text-danger">No invalid csv user data</span>
                                            </td>
                                        </tr> 
                                      {% endif %}

                                    </tbody>
                                </table>
                            </div>
                            {# invalid csv user data table end #}

                            {# valid csv user data table start #}
                            <div class="virtual_table">
                                <div class="heading row bg-success" style="border: 1px solid #ddd; padding: 10px 0;">
                                    <div class="col-lg-6">
                                        <h5 style="margin-top: 8px;">CSV Valid data (User list)</h5>
                                    </div>
                                </div>
                               <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Surname</th>
                                            <th>Email</th>
                                            <th>Phone_number</th>
                                            <th>Department</th>
                                            <th>City</th>
                                            <th>Country</th>
                                            <th>Address</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                      {% if event_valid_mails|length > 0 %}
                                        {% for valid_mail in event_valid_mails %}
                                            <tr>
                                                <td>{{ valid_mail['name'] ?? '' }}</td>
                                                <td>{{ valid_mail['surname'] ?? '' }}</td>
                                                <td>{{ valid_mail['email'] ?? '' }}</td>
                                                <td>{{ valid_mail['country_code'] ?? '' }}{{ valid_mail['phone_number'] ?? '' }}</td>
                                                <td>{{ valid_mail['department'] ?? '' }}</td>
                                                <td>{{ valid_mail['city'] ?? '' }}</td>
                                                <td>{{ valid_mail['country'] ?? '' }}</td>
                                                <td>{{ valid_mail['address'] ?? '' }}</td>
                                            </tr> 
                                        {% endfor %}
                                      {% else %}
                                        <tr>
                                            <td colspan="50">
                                                <span class="text-danger">No valid csv user data</span>
                                            </td>
                                        </tr> 
                                      {% endif %}

                                    </tbody>
                                </table>
                            </div>
                            {# valid csv user data table end #}
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </section>
{% endblock %}

{% block javascripts %} 
{% endblock %}

{% block stylesheets %}
{% endblock %}